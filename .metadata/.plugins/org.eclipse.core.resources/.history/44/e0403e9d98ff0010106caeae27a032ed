package com.bazotech.store.services;

import java.util.List;

import org.springframework.stereotype.Service;

import com.bazotech.store.domain.BusinessAddress;
import com.bazotech.store.domain.Vendor;
import com.bazotech.store.repositories.VendorRepository;

import jakarta.persistence.EntityManager;
import lombok.AllArgsConstructor;

@AllArgsConstructor
@Service
public class VendorService {
	
	private final VendorRepository vendorRepository;
	private final EntityManager persistenceContext;
	
	
	/* Business Service to register a vendor */
	
	public void registerVendor() {
		
		/** Base Vendor Information **/
		var microsoft = Vendor.builder()
									.vendorName("Microsoft Corporation")
									.vendorDescription("A Tier-1 software company.")
									.vendorMobile("0778434343")
									.vendorEmail("info@microsoft.com") /* Mandatory field */
									.build();
		
		/** Address information **/
		var address1 = BusinessAddress.builder()
									.country("Uganda")
									.city("Kampala")
									.street("Kampala")
									.merchant(null)
									.vendor(microsoft)
									.build();
		
		var address2 = BusinessAddress.builder()
									 .country("Uganda")
									 .city("Kampala")
									 .street("William")
									 .merchant(null)
									 .vendor(microsoft)
									 .build();
		
		/** Binding the addresses to the vendor instance **/
		microsoft.setBusinessAddresses(List.of(address1, address2));
		
		/** saving the vendor instance to the database **/
		vendorRepository.save(microsoft);
		
		System.out.print("Vendor Record Successfully Saved to Database");
		
	}
	
	
	/* Retrieve a vendore by id */
	
	
	/* Retrieve a vendor by name */
	
	
	/* Retrieve a vendor by */
	
	
}
