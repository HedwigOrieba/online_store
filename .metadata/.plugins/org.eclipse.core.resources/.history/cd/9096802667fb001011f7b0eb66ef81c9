package com.bazotech.store;

import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;
import java.util.stream.Stream;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.bazotech.store.domain.BusinessAddress;
import com.bazotech.store.domain.InventoryItem;
import com.bazotech.store.domain.ItemBatch;
import com.bazotech.store.domain.ItemCategory;
import com.bazotech.store.domain.ItemPricing;
import com.bazotech.store.domain.ItemTag;
import com.bazotech.store.domain.Merchant;
import com.bazotech.store.domain.Product;
import com.bazotech.store.domain.Store;
import com.bazotech.store.domain.StoreItem;
import com.bazotech.store.domain.StoreRack;
import com.bazotech.store.domain.StoreRsbMapping;
import com.bazotech.store.domain.Vendor;
import com.bazotech.store.domain.StoreRack.BindingStatus;

@SpringBootApplication
public class StoreApplication {

	public static void main(String[] args) {
		//SpringApplication.run(StoreApplication.class, args);
		//Colors color = Colors.RED;
		//System.out.println("Selected color: " + color);
		
		 //Colors[] color =Colors.values();
		 //for(Colors c: color) {
		//	 System.out.println("Color: " + c);
		 //}
		
		var programmingLangs = List.of("Java", "Python", "JavaScript", "C#", "Ruby");
		programmingLangs.stream()
		.filter(lang -> lang.startsWith("J"))
		.forEach(lang -> System.out.println("Programming Language: " + lang));
		
		// using flat-map
//		var mixedStream = Stream.of(List.of(1,2,3), List.of("a","b","c"));
//		mixedStream
//		.flatMap(list -> list.stream())
//		.forEach(item -> System.out.print(item));
		
		
		
		/** creating a vendor**/
		Vendor itemsVendor = Vendor.builder()
							  	   .vendorName("Oracle Corporation")
								   .vendorDescription("The strongest software company")
								   .vendorEmail("service.info@bazotech.com")
								   .vendorMobile("0778373399")
								   .build();
		
		
		List<BusinessAddress> vendorAddresses = List.of(
				
				BusinessAddress.builder()
					.city("Washington")
					.country("United States of America")
					.street("Glass ware")
					.build(),
			
				BusinessAddress.builder()
					.city("Kampala")
					.country("Uganda")
					.street("Wilson Street")
					.build(),
			
				BusinessAddress.builder()
					.city("Lagos")
					.country("Nigeria")
					.street("Elegu Street")
					.build()
					
				);
						
		itemsVendor.setBusinessAddresses(vendorAddresses);
		
		System.out.println("Item Vendor:" + itemsVendor.toString());
		
		
		/** creating a merchant **/
		Merchant merchant = Merchant.builder()
							  .merchantName("BazoTech")
							  .merchantEmail("service.info@bazotech.com")
							  .merchantMobile("78439060")
							  .merchantDescription("A technology giant company in kampala")
							  .build();

		List<BusinessAddress> merchantAddresses = List.of(
				BusinessAddress.builder()
								.city("Kampala")
								.country("Kampala")
								.region("Central")
								.street("Sia Amara")
								.build(),
								
				BusinessAddress.builder()
								.street("Johnson Street")
								.city("Kampala")
								.country("kampala")
								.region("Central")
								.build(),
								
				BusinessAddress.builder()
								.street("Kitana Amir")
								.city("Kampala")
								.country("Uganda")
								.region("Central")
								.build()
			); 
		
		merchant.setBusinessAddresses(merchantAddresses);
		
		System.out.println("Merchant:"+ merchant.toString());
		
		
		/** creating item categories **/
		ItemCategory electronics = ItemCategory.builder()
												.categoryName("Electronics")
												.categoryDescription("Devices and Gadgets.")
												.build();
		
		System.out.println("Item Category:"+ electronics.toString());
		
		
		/** creating ItemTags **/
		ItemTag discountTag = ItemTag.builder()
								.tagName("Discounted")
								.build();
		
		ItemTag importTag = ItemTag.builder()
				.tagName("Imported")
				.build();
		
		ItemTag fragileTag = ItemTag.builder()
				.tagName("Fragile")
				.build();
		
		
		System.out.println("Tag1:" + discountTag.toString());
		System.out.println();
		
		System.out.println("Tag2:" + importTag.toString());
		System.out.println();
		
		System.out.println("Tag3:" + fragileTag.toString());
		System.out.println();
		
		
		
		
		
		/** creating an inventory item **/
		InventoryItem inventoryItem = InventoryItem.builder()
												   .merchant(merchant)
												   .vendor(itemsVendor)
												   .category(electronics)
												   .itemName("Laptop")
												   .itemUom(InventoryItem.UomType.BOX)
												   .itemQuantity(10)
												   .tags(List.of(discountTag, importTag, fragileTag))
												   .itemDescription("A personal computer for field work")
												   .build();
		
		
		System.out.println("Inventory Item: " + inventoryItem);
		
		/** creating products **/
		Product product = Product.builder()
				.brand("Dell")
				.model("XPS 13")
				.specification("500GB HDD, 32GB RAM, 1.7MHz")
				.inventoryItem(inventoryItem)
				.build();
		
		System.out.println("Product:" + product.toString());
		
		
		/** creating a batch **/
		ItemBatch firstBatch = ItemBatch.builder()
								.inventoryItem(inventoryItem)
								.batchNumber("BOO1")
								.manufacturedOn(LocalDateTime.of(2022, 10, 10, 11, 23))
								.expiresOn(LocalDateTime.of(2023, 8, 14, 11, 23))
								.batchQuantity(5)
								.build();
		
		System.out.println("Item Batch:" + firstBatch.toString());
		
		
		
		/*** Creating a store ***/
		int rack_count = 5;
		Store mystore = Store.builder()
						   .storeName("Sample Store")
						   .storeLocation("Kampala Buto")
						   .storeType(Store.StoreType.MAIN)
						   .rackCount(rack_count)
						   .storeDescription("Main store for all computer devices.")
						   .build();
		
		System.out.println("Store:" + mystore.toString());
		
		
		
		/** Creating a store rack **/
		int shelf_count =2;
		StoreRack myStoreRacks = StoreRack.builder()
									.store(mystore)
									.shelfCount(shelf_count)
									.storeRackMappingStatus(StoreRack.BindingStatus.MAPPED)
									.build();
		
		System.out.println("Racks:" + myStoreRacks.toString());
		
		
		
		/** Creating the Bin Mapping **/
		int bins_count = rack_count * shelf_count;
		StoreRsbMapping rsb = null;
		
		for(int racks=0; racks <= rack_count; racks++) {
			
			for(int shelfs=0; shelfs <= shelf_count; shelfs++) {
				
				for(int bins=0; bins <= bins_count; bins++) {
				    rsb = StoreRsbMapping.builder()
				    					 .slotStatus(StoreRsbMapping.SlotStatus.UNRESERVED)
				    					 .storageRack(myStoreRacks)
				    					 .build();
				    System.out.println("RSB:"+ rsb.toString());
				    					 
				}
				
			}
		}
		
	} /* end main method. */


		//	public static enum Colors{
		//		RED,
		//		BLUE,
		//		GREEN
		//	}
	
} // end class
